!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ctrl/ngx-emoji-mart/ngx-emoji"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@ctrl/ngx-emoji-mart/ngx-emoji","@angular/common","@angular/forms"],t):t((e.ctrl=e.ctrl||{},e.ctrl["ngx-emoji-mart"]={}),e.ng.core,e["@ctrl/ngx-emoji-mart/ngx-emoji"],e.ng.common,e.ng.forms)}(this,function(e,t,i,n,o){"use strict";function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],i=0;return t?t.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}function r(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,s=i.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)r.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(i=s["return"])&&i.call(s)}finally{if(o)throw o.error}}return r}var a={activity:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m10 11h-5c.3-2.5 1.3-4.8 2-6.1a10 10 0 0 1 3 6.1m-9 0V2a10 10 0 0 1 4.4 1.6A18 18 0 0 0 15 11h-2zm-2 0H9a18 18 0 0 0-2.4-7.4A10 10 0 0 1 11 2.1V11zm0 2v9a10 10 0 0 1-4.4-1.6A18 18 0 0 0 9 13h2zm4 0a18 18 0 0 0 2.4 7.4 10 10 0 0 1-4.4 1.5V13h2zM5 4.9c.7 1.3 1.7 3.6 2 6.1H2a10 10 0 0 1 3-6.1M2 13h5c-.3 2.5-1.3 4.8-2 6.1A10 10 0 0 1 2 13m17 6.1c-.7-1.3-1.7-3.6-2-6.1h5a10 10 0 0 1-3 6.1",custom:"M10 1h3v21h-3zm10.186 4l1.5 2.598L3.5 18.098 2 15.5zM2 7.598L3.5 5l18.186 10.5-1.5 2.598z",flags:"M0 0l6 24h2L2 0zm21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.6 3h7.8l2 8H8.6l-2-8zm8.8 10l-2.9 1.9-.4-1.9h3.3zm3.6 0l-1.5-6h2l2 8H16l3-2z",foods:"M17 5c-1.8 0-2.9.4-3.7 1 .5-1.3 1.8-3 4.7-3a1 1 0 0 0 0-2c-3 0-4.6 1.3-5.5 2.5l-.2.2c-.6-1.9-1.5-3.7-3-3.7C8.5 0 7.7.3 7 1c-2 1.5-1.7 2.9-.5 4C3.6 5.2 0 7.4 0 13c0 4.6 5 11 9 11 2 0 2.4-.5 3-1 .6.5 1 1 3 1 4 0 9-6.4 9-11 0-6-4-8-7-8M8.2 2.5c.7-.5 1-.5 1-.5.4.2 1 1.4 1.4 3-1.6-.6-2.8-1.3-3-1.8l.6-.7M15 22c-1 0-1.2-.1-1.6-.4l-.1-.2a2 2 0 0 0-2.6 0l-.1.2c-.4.3-.5.4-1.6.4-2.8 0-7-5.4-7-9 0-6 4.5-6 5-6 2 0 2.5.4 3.4 1.2l.3.3a2 2 0 0 0 2.6 0l.3-.3c1-.8 1.5-1.2 3.4-1.2.5 0 5 .1 5 6 0 3.6-4.2 9-7 9",nature:"M15.5 8a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m-7 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m10.43-8h-.02c-.97 0-2.14.79-3.02 1.5A13.88 13.88 0 0 0 12 .99c-1.28 0-2.62.13-3.87.51C7.24.8 6.07 0 5.09 0h-.02C3.35 0 .07 2.67 0 7.03c-.04 2.47.28 4.23 1.04 5 .26.27.88.69 1.3.9.19 3.17.92 5.23 2.53 6.37.9.64 2.19.95 3.2 1.1-.03.2-.07.4-.07.6 0 1.77 2.35 3 4 3s4-1.23 4-3c0-.2-.04-.4-.07-.59 2.57-.38 5.43-1.87 5.92-7.58.4-.22.89-.57 1.1-.8.77-.76 1.09-2.52 1.05-5C23.93 2.67 20.65 0 18.93 0M3.23 9.13c-.24.29-.84 1.16-.9 1.24A9.67 9.67 0 0 1 2 7.08c.05-3.28 2.48-4.97 3.1-5.03.25.02.72.27 1.26.65A7.95 7.95 0 0 0 4 7.82c-.14.55-.4.86-.79 1.31M12 22c-.9 0-1.95-.7-2-1 0-.65.47-1.24 1-1.6v.6a1 1 0 1 0 2 0v-.6c.52.36 1 .95 1 1.6-.05.3-1.1 1-2 1m3-3.48v.02a4.75 4.75 0 0 0-1.26-1.02c1.09-.52 2.24-1.33 2.24-2.22 0-1.84-1.78-2.2-3.98-2.2s-3.98.36-3.98 2.2c0 .89 1.15 1.7 2.24 2.22A4.8 4.8 0 0 0 9 18.54v-.03a6.1 6.1 0 0 1-2.97-.84c-1.3-.92-1.84-3.04-1.86-6.48l.03-.04c.5-.82 1.49-1.45 1.8-3.1C6 6 7.36 4.42 8.36 3.53c1.01-.35 2.2-.53 3.59-.53 1.45 0 2.68.2 3.73.57 1 .9 2.32 2.46 2.32 4.48.31 1.65 1.3 2.27 1.8 3.1l.1.18c-.06 5.97-1.95 7.01-4.9 7.19m6.63-8.2l-.11-.2a7.59 7.59 0 0 0-.74-.98 3.02 3.02 0 0 1-.79-1.32 7.93 7.93 0 0 0-2.35-5.12c.53-.38 1-.63 1.26-.65.64.07 3.05 1.77 3.1 5.03.02 1.81-.35 3.22-.37 3.24",objects:"M12 0a9 9 0 0 0-5 16.5V21s2 3 5 3 5-3 5-3v-4.5A9 9 0 0 0 12 0zm0 2a7 7 0 1 1 0 14 7 7 0 0 1 0-14zM9 17.5a9 9 0 0 0 6 0v.8a7 7 0 0 1-3 .7 7 7 0 0 1-3-.7v-.8zm.2 3a8.9 8.9 0 0 0 2.8.5c1 0 1.9-.2 2.8-.5-.6.7-1.6 1.5-2.8 1.5-1.1 0-2.1-.8-2.8-1.5zm5.5-8.1c-.8 0-1.1-.8-1.5-1.8-.5-1-.7-1.5-1.2-1.5s-.8.5-1.3 1.5c-.4 1-.8 1.8-1.6 1.8h-.3c-.5-.2-.8-.7-1.3-1.8l-.2-1A3 3 0 0 0 7 9a1 1 0 0 1 0-2c1.7 0 2 1.4 2.2 2.1.5-1 1.3-2 2.8-2 1.5 0 2.3 1.1 2.7 2.1.2-.8.6-2.2 2.3-2.2a1 1 0 1 1 0 2c-.2 0-.3.5-.3.7a6.5 6.5 0 0 1-.3 1c-.5 1-.8 1.7-1.7 1.7",people:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20M8 7a2 2 0 1 0 0 4 2 2 0 0 0 0-4m8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-.8 8c-.7 1.2-1.8 2-3.3 2-1.5 0-2.7-.8-3.4-2H15m3-2H6a6 6 0 1 0 12 0",places:"M6.5 12a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5m11-3a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5m5-5.5l-1-.4-.1-.1h.6c.6 0 1-.4 1-1 0-1-.9-2-2-2h-.6l-.8-1.7A3 3 0 0 0 16.8 2H7.2a3 3 0 0 0-2.8 2.3L3.6 6H3a2 2 0 0 0-2 2c0 .6.4 1 1 1h.6v.1l-1 .4a2 2 0 0 0-1.4 2l.7 7.6a1 1 0 0 0 1 .9H3v1c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-1h6v1c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-1h1.1a1 1 0 0 0 1-.9l.7-7.5a2 2 0 0 0-1.3-2.1M6.3 4.9c.1-.5.5-.9 1-.9h9.5c.4 0 .8.4 1 .9L19.2 9H4.7l1.6-4.1zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.2-3H2.8l-.7-6.6.9-.4h18l.9.4-.7 6.6z",recent:"M13 4h-2v7H9v2h2v2h2v-2h4v-2h-4zm-1-4a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20",symbols:"M0 0h11v2H0zm4 11h3V6h4V4H0v2h4zm11.5 6a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5m0-2.99a.5.5 0 0 1 0 .99c-.28 0-.5-.22-.5-.5s.22-.49.5-.49m6 5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5m0 2.99a.5.5 0 0 1-.5-.5.5.5 0 0 1 1 .01.5.5 0 0 1-.5.49m.5-9l-9 9 1.51 1.5 9-9zm-5-2c2.2 0 4-1.12 4-2.5V2s.98-.16 1.5.95C23 4.05 23 6 23 6s1-1.12 1-3.13C24-.02 21 0 21 0h-2v6.35A5.85 5.85 0 0 0 17 6c-2.2 0-4 1.12-4 2.5s1.8 2.5 4 2.5m-6.7 9.48L8.82 18.9a47.54 47.54 0 0 1-1.44 1.13c-.3-.3-.99-1.02-2.04-2.19.9-.83 1.47-1.46 1.72-1.89s.38-.87.38-1.33c0-.6-.27-1.18-.82-1.76-.54-.58-1.33-.87-2.35-.87-1 0-1.79.29-2.34.87-.56.6-.83 1.18-.83 1.79 0 .81.42 1.75 1.25 2.8a6.57 6.57 0 0 0-1.8 1.79 3.46 3.46 0 0 0-.51 1.83c0 .86.3 1.56.92 2.1a3.5 3.5 0 0 0 2.42.83c1.17 0 2.44-.38 3.81-1.14L8.23 24h2.82l-2.09-2.38 1.34-1.14zM3.56 14.1a1.02 1.02 0 0 1 .73-.28c.31 0 .56.08.75.25a.85.85 0 0 1 .28.66c0 .52-.42 1.11-1.26 1.78-.53-.65-.8-1.23-.8-1.74a.9.9 0 0 1 .3-.67m.18 7.9c-.43 0-.78-.12-1.06-.35-.28-.23-.41-.49-.41-.76 0-.6.5-1.3 1.52-2.09a31.23 31.23 0 0 0 2.25 2.44c-.92.5-1.69.76-2.3.76"},c=function(){function e(){this.categories=[],this.anchorClick=new t.EventEmitter,this.svgs=a}return e.prototype.handleClick=function(e,t){this.anchorClick.emit({category:this.categories[t],index:t})},e}();c.decorators=[{type:t.Component,args:[{selector:"emoji-mart-anchors",template:'\n  <div class="emoji-mart-anchors">\n    <ng-container *ngFor="let category of categories; let idx = index">\n      <span\n        *ngIf="category.anchor !== false"\n        title="i18n.categories[category.id]"\n        (click)="this.handleClick($event, idx)"\n        class="emoji-mart-anchor"\n        [class.emoji-mart-anchor-selected]="category.name === selected"\n        [style.color]="category.name === selected ? color : null"\n      >\n        <div>\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n            <path [attr.d]="svgs[category.id]" />\n          </svg>\n        </div>\n        <span\n          class="emoji-mart-anchor-bar"\n          [style.background-color]="color"\n        ></span>\n      </span>\n    </ng-container>\n  </div>\n  ',styles:[],changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],c.ctorParameters=function(){return[]},c.propDecorators={categories:[{type:t.Input}],color:[{type:t.Input}],selected:[{type:t.Input}],anchorClick:[{type:t.Output}]};var l=function(){function e(){this.NAMESPACE="emoji-mart",this.frequently=null,this.defaults={},this.initialized=!1,this.DEFAULTS=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"]}return e.prototype.init=function(){this.frequently=JSON.parse(localStorage.getItem(this.NAMESPACE+".frequently")||"null"),this.initialized=!0},e.prototype.add=function(e){this.initialized||this.init(),this.frequently||(this.frequently=this.defaults),this.frequently[e.id]||(this.frequently[e.id]=0),this.frequently[e.id]+=1,localStorage.setItem(this.NAMESPACE+".last",e.id),localStorage.setItem(this.NAMESPACE+".frequently",JSON.stringify(this.frequently))},e.prototype.get=function(e){var t=this;if(this.initialized||this.init(),null===this.frequently){this.defaults={};for(var i=[],n=0;n<e;n++)this.defaults[this.DEFAULTS[n]]=e-n,i.push(this.DEFAULTS[n]);return i}var o=4*e,s=Object.keys(this.frequently).sort(function(e,i){return t.frequently[e]-t.frequently[i]}).reverse().slice(0,o),r=localStorage.getItem(this.NAMESPACE+".last");return r&&-1===s.indexOf(r)&&(s.pop(),s.push(r)),s},e}();l.decorators=[{type:t.Injectable}],l.ctorParameters=function(){return[]};var h=function(){function e(e,i,n){this.ref=e,this.emojiService=i,this.frequently=n,this.hasStickyPosition=!0,this.name="",this["native"]=!0,this.perLine=9,this.recent=[],this.custom=[],this.hideObsolete=!0,this.emojiOver=new t.EventEmitter,this.emojiLeave=new t.EventEmitter,this.emojiClick=new t.EventEmitter,this.containerStyles={},this.labelStyles={},this.labelSpanStyles={},this.margin=0,this.minMargin=0,this.maxMargin=0,this.top=0}return e.prototype.ngOnInit=function(){this.emojis=this.getEmojis(),this.emojis||(this.containerStyles={display:"none"}),this.hasStickyPosition||(this.labelStyles={height:28},this.labelSpanStyles={position:"absolute"})},e.prototype.ngAfterViewInit=function(){this.parent=this.container.nativeElement.parentNode.parentNode,this.memoizeSize()},e.prototype.memoizeSize=function(){var e=this.container.nativeElement.getBoundingClientRect(),t=e.top,i=e.height,n=this.parent.getBoundingClientRect().top,o=this.label.nativeElement.getBoundingClientRect().height;this.top=t-n+this.parent.scrollTop,this.maxMargin=0===i?0:i-o},e.prototype.handleScroll=function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!==this.margin)return this.hasStickyPosition||(this.label.nativeElement.style.top=t+"px"),this.margin=t,!0},e.prototype.getEmojis=function(){var e=this;if("Recent"===this.name){var t=this.recent||this.frequently.get(this.perLine);if(t&&t.length||(t=this.frequently.get(this.perLine)),t.length&&(this.emojis=t.map(function(t){var i=e.custom.filter(function(e){return e.id===t})[0];return i||t}).filter(function(t){return!!e.emojiService.getData(t)})),(!this.emojis||0===this.emojis.length)&&t.length>0)return null}return this.emojis&&(this.emojis=this.emojis.slice(0)),this.emojis},e.prototype.updateDisplay=function(e){this.containerStyles.display=e,this.ref.detectChanges()},e.prototype.trackById=function(e,t){return t},e}();function m(e){return e.reduce(function(e,t){return-1===e.indexOf(t)&&e.push(t),e},[])}h.decorators=[{type:t.Component,args:[{selector:"[emoji-category]",template:'\n  <div\n    #container\n    class="emoji-mart-category"\n    [class.emoji-mart-no-results]="emojis && !emojis.length"\n    [ngStyle]="containerStyles"\n  >\n    <div\n      [ngStyle]="labelStyles"\n      [attr.data-name]="name"\n      class="emoji-mart-category-label"\n    >\n      <span style="labelSpanStyles" #label>\n        {{ i18n.categories[id] }}\n      </span>\n    </div>\n    <ng-template [ngIf]="emojis">\n      <ngx-emoji\n        *ngFor="let emoji of emojis; trackBy: trackById"\n        [emoji]="emoji"\n        [size]="emojiSize"\n        [skin]="emojiSkin"\n        [native]="emojiNative"\n        [set]="emojiSet"\n        [sheetSize]="emojiSheetSize"\n        [forceSize]="emojiForceSize"\n        [tooltip]="emojiTooltip"\n        [hideObsolete]="hideObsolete"\n        (emojiOver)="emojiOver.emit($event)"\n        (emojiLeave)="emojiLeave.emit($event)"\n        (emojiClick)="emojiClick.emit($event)"\n      >\n      </ngx-emoji>\n    </ng-template>\n    <div *ngIf="emojis && !emojis.length">\n      <div>\n        <ngx-emoji\n          emoji="sleuth_or_spy"\n          size="38"\n          [skin]="emojiSkin"\n          [native]="emojiNative"\n          [set]="emojiSet"\n          [sheetSize]="emojiSheetSize"\n          [forceSize]="emojiForceSize"\n          [tooltip]="emojiTooltip"\n          >\n        </ngx-emoji>\n      </div>\n      <div className="emoji-mart-no-results-label">\n        {{ i18n.notfound }}\n      </div>\n    </div>\n  </div>\n  ',styles:[],changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],h.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:i.EmojiService},{type:l}]},h.propDecorators={emojis:[{type:t.Input}],hasStickyPosition:[{type:t.Input}],name:[{type:t.Input}],"native":[{type:t.Input}],perLine:[{type:t.Input}],recent:[{type:t.Input}],custom:[{type:t.Input}],i18n:[{type:t.Input}],id:[{type:t.Input}],hideObsolete:[{type:t.Input}],emojiNative:[{type:t.Input}],emojiSkin:[{type:t.Input}],emojiSize:[{type:t.Input}],emojiSet:[{type:t.Input}],emojiSheetSize:[{type:t.Input}],emojiForceSize:[{type:t.Input}],emojiTooltip:[{type:t.Input}],emojiOver:[{type:t.Output}],emojiLeave:[{type:t.Output}],emojiClick:[{type:t.Output}],container:[{type:t.ViewChild,args:["container"]}],label:[{type:t.ViewChild,args:["label"]}]};var u=function(){function e(e){var t=this;this.emojiService=e,this.originalPool={},this.index={},this.emojisList={},this.emoticonsList={},this.emojiSearch={};var i,n,o=function(e){var i=e.short_names,n=e.emoticons,o=i[0];n.forEach(function(e){t.emoticonsList[e]||(t.emoticonsList[e]=o)}),r.emojisList[o]=r.emojiService.getSanitizedData(o),r.originalPool[o]=e},r=this;try{for(var a=s(this.emojiService.emojis),c=a.next();!c.done;c=a.next()){o(c.value)}}catch(l){i={error:l}}finally{try{c&&!c.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}}return e.prototype.addCustomToPool=function(e,t){var i=this;e.forEach(function(e){var n=e.id||e.short_names[0];n&&!t[n]&&(t[n]=i.emojiService.getData(e),i.emojisList[n]=i.emojiService.getSanitizedData(e))})},e.prototype.search=function(e,t,n,o,r,a){var c,l=this;void 0===n&&(n=75),void 0===o&&(o=[]),void 0===r&&(r=[]),void 0===a&&(a=[]),this.addCustomToPool(a,this.originalPool);var h=this.originalPool;if(e.length){if("-"===e||"-1"===e)return[this.emojisList[-1]];var u,p=e.toLowerCase().split(/[\s|,|\-|_]+/);if(p.length>2&&(p=[p[0],p[1]]),(o.length||r.length)&&(h={},i.categories.forEach(function(e){var t=!o||!o.length||o.indexOf(e.id)>-1,i=!(!r||!r.length)&&r.indexOf(e.id)>-1;t&&!i&&e.emojis.forEach(function(e){return h[e]=l.emojiService.names[e]})}),a.length)){var d=!o||!o.length||o.indexOf("custom")>-1,g=!(!r||!r.length)&&r.indexOf("custom")>-1;d&&!g&&this.addCustomToPool(a,h)}c=(u=p.map(function(e){for(var t=h,i=l.index,n=0,o=function(o){var r,a,c=e[o];if(n++,i[c]||(i[c]={}),!(i=i[c]).results){var h={};i.results=[],i.pool={};try{for(var m=s(Object.keys(t)),u=m.next();!u.done;u=m.next()){var p=u.value,d=t[p];l.emojiSearch[p]||(l.emojiSearch[p]=l.buildSearch(d.short_names,d.name,d.keywords,d.emoticons));var g=l.emojiSearch[p],f=e.substr(0,n),v=g.indexOf(f);if(-1!==v){var y=v+1;f===p&&(y=0),i.results.push(l.emojisList[p]),i.pool[p]=d,h[p]=y}}}catch(j){r={error:j}}finally{try{u&&!u.done&&(a=m["return"])&&a.call(m)}finally{if(r)throw r.error}}i.results.sort(function(e,t){return h[e.id]-h[t.id]})}t=i.pool},r=0;r<e.length;r++)o(r);return i.results}).filter(function(e){return e})).length>1?function(e,t){var i=m(e),n=m(t);return i.filter(function(e){return n.indexOf(e)>=0})}.apply(null,u):u.length?u[0]:[]}return c&&(t&&(c=c.filter(function(e){return t(l.emojiService.names[e.id])})),c&&c.length>n&&(c=c.slice(0,n))),c||null},e.prototype.buildSearch=function(e,t,i,n){var o=[],s=function(e,t){e&&(Array.isArray(e)?e:[e]).forEach(function(e){(t?e.split(/[-|_|\s]+/):[e]).forEach(function(e){e=e.toLowerCase(),-1===o.indexOf(e)&&o.push(e)})})};return s(e,!0),s(t,!0),s(i,!1),s(n,!1),o.join(",")},e}();u.decorators=[{type:t.Injectable}],u.ctorParameters=function(){return[{type:i.EmojiService}]};var p=function(){function e(e,i){this.ref=e,this.emojiService=i,this.skinChange=new t.EventEmitter}return e.prototype.ngOnChanges=function(){if(this.emoji){this.emojiData=this.emojiService.getData(this.emoji);var e=[],t=[];(this.emojiData.emoticons||[]).forEach(function(i){e.indexOf(i.toLowerCase())>=0||(e.push(i.toLowerCase()),t.push(i))}),this.listedEmoticons=t}},e}();p.decorators=[{type:t.Component,args:[{selector:"emoji-preview",template:'\n  <div class="emoji-mart-preview" *ngIf="emoji">\n    <div class="emoji-mart-preview-emoji">\n      <ngx-emoji [emoji]="emoji" [size]="38"\n        [native]="emojiNative"\n        [size]="emojiSize"\n        [skin]="emojiSkin"\n        [set]="emojiSet"\n        [sheetSize]="emojiSheetSize"\n        [backgroundImageFn]="emojiBackgroundImageFn"\n      >\n      </ngx-emoji>\n    </div>\n    <div class="emoji-mart-preview-data">\n      <div class="emoji-mart-preview-name">{{ emojiData.name }}</div>\n      <div class="emoji-mart-preview-shortnames">\n        <span class="emoji-mart-preview-shortname" *ngFor="let short_name of emojiData.short_names">\n          :{{ short_name }}:\n        </span>\n      </div>\n      <div class="emoji-mart-preview-emoticons">\n        <span class="emoji-mart-preview-emoticon" *ngFor="let emoticon of listedEmoticons">\n          {{ emoticon }}\n        </span>\n      </div>\n    </div>\n  </div>\n  <div class="emoji-mart-preview" *ngIf="!emoji">\n    <div class="emoji-mart-preview-emoji">\n      <ngx-emoji *ngIf="idleEmoji && idleEmoji.length"\n        [native]="emojiNative"\n        [skin]="emojiSkin"\n        [set]="emojiSet"\n        [emoji]="idleEmoji"\n        [backgroundImageFn]="emojiBackgroundImageFn"\n        [size]="38">\n      </ngx-emoji>\n    </div>\n    <div class="emoji-mart-preview-data">\n      <span class="emoji-mart-title-label">{{ title }}</span>\n    </div>\n    <div class="emoji-mart-preview-skins">\n      <emoji-skins [skin]="emojiSkin" (change)="skinChange.emit($event)">\n      </emoji-skins>\n    </div>\n  </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],p.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:i.EmojiService}]},p.propDecorators={title:[{type:t.Input}],emoji:[{type:t.Input}],idleEmoji:[{type:t.Input}],emojiNative:[{type:t.Input}],emojiSize:[{type:t.Input}],emojiSkin:[{type:t.Input}],emojiSet:[{type:t.Input}],emojiSheetSize:[{type:t.Input}],emojiBackgroundImageFn:[{type:t.Input}],skinChange:[{type:t.Output}]};var d={id:"recent",name:"Recent",emojis:null},g={id:"search",name:"Search",emojis:null,anchor:!1},f={id:"custom",name:"Custom",emojis:[]},v={search:"Search",notfound:"No Emoji Found",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},y=function(){function e(e){var i=this;this.frequently=e,this.perLine=9,this.i18n={},this.style={},this.title="Emoji Martâ„¢",this.emoji="department_store",this.color="#ae65c5",this.hideObsolete=!0,this.categories=[],this.set="apple",this.skin=1,this["native"]=!1,this.emojiSize=24,this.sheetSize=64,this.showPreview=!0,this.emojiTooltip=!1,this.autoFocus=!1,this.custom=[],this.hideRecent=!0,this.include=[],this.exclude=[],this.emojiClick=new t.EventEmitter,this.scrollHeight=0,this.clientHeight=0,this.firstRender=!0,this.RECENT_CATEGORY=d,this.CUSTOM_CATEGORY=f,this.NAMESPACE="emoji-mart",this.measureScrollbar=0,this.backgroundImageFn=function(e,t){return"https://unpkg.com/emoji-datasource-"+i.set+"@4.0.3/img/"+i.set+"/sheets-256/"+i.sheetSize+".png"}}return e.prototype.ngOnInit=function(){var e=this;this.measureScrollbar=function(){if("undefined"==typeof document)return 0;var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),this.i18n=Object.assign({},v,this.i18n),this.i18n.categories=Object.assign({},v.categories,this.i18n.categories),this.skin=JSON.parse(localStorage.getItem(this.NAMESPACE+".skin")||"null")||this.skin;var t=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}(i.categories);this.custom.length>0&&(f.emojis=this.custom.map(function(e){return Object.assign({},e,{id:e.short_names[0],custom:!0})}),t.push(f)),this.include!==undefined&&t.sort(function(t,i){return e.include.indexOf(t.id)>e.include.indexOf(i.id)?1:0});for(var n=0;n<t.length;n++){var o=t[n],s=!this.include||!this.include.length||this.include.indexOf(o.id)>-1,a=!(!this.exclude||!this.exclude.length)&&this.exclude.indexOf(o.id)>-1;if(s&&!a)if(this.emojisToShowFilter){for(var c=[],l=o.emojis,h=0;h<l.length;h++){var m=l[h];this.emojisToShowFilter(m)&&c.push(m)}if(c.length){var u={emojis:c,name:o.name,id:o.id};this.categories.push(u)}}else this.categories.push(o)}var p=!this.include||!this.include.length||this.include.indexOf(d.id)>-1,y=!(!this.exclude||!this.exclude.length)&&this.exclude.indexOf(d.id)>-1;p&&!y&&(this.hideRecent=!1,this.categories.unshift(d)),this.categories[0]&&(this.categories[0].first=!0),this.categories.unshift(g),this.selected=this.categories.filter(function(e){return e.first})[0].name},e.prototype.ngAfterViewInit=function(){this.updateCategoriesSize()},e.prototype.updateCategoriesSize=function(){if(this.categoryRefs.forEach(function(e){return e.memoizeSize()}),this.scrollRef){var e=this.scrollRef.nativeElement;this.scrollHeight=e.scrollHeight,this.clientHeight=e.clientHeight}},e.prototype.handleAnchorClick=function(e){var t,i=this,n=this.categoryRefs.find(function(t){return t.id===e.category.id});t=function(){if(n){var t=n.top;e.category.first?t=0:t+=1,i.scrollRef.nativeElement.scrollTop=t}},g.emojis?window.requestAnimationFrame(t):t()},e.prototype.categoryTrack=function(e,t){return t.id},e.prototype.handleScroll=function(){if(this.scrollRef){var e,t=null;if(g.emojis)t=g;else{for(var i=this.scrollRef.nativeElement,n=(e=i.scrollTop)>(this.scrollTop||0),o=0,s=function(i,s){var a=n?r.categories.length-1-i:i,c=r.categories[a],l=r.categoryRefs.find(function(e){return e.id===c.id});if(l){var h=l.handleScroll(e);(!o||l.top<o)&&l.top>0&&(o=l.top),h&&!t&&(t=c)}},r=this,a=0,c=this.categories.length;a<c;a++)s(a);e<o?t=this.categories.filter(function(e){return!(!1===e.anchor)})[0]:e+this.clientHeight>=this.scrollHeight&&(t=this.categories[this.categories.length-1])}if(t){var l=t.name;this.selected!==l&&(this.selected=l)}this.scrollTop=e}},e.prototype.handleSearch=function(e){g.emojis=e;try{for(var t=s(this.categoryRefs.toArray()),i=t.next();!i.done;i=t.next()){var n=i.value;"Search"===n.name?(n.emojis=e,n.updateDisplay(e?"inherit":"none")):n.updateDisplay(e?"none":"inherit")}}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=t["return"])&&r.call(t)}finally{if(o)throw o.error}}var o,r;this.scrollRef.nativeElement.scrollTop=0,this.handleScroll()},e.prototype.handleEmojiOver=function(e){if(this.showPreview&&this.previewRef){var t=f.emojis.find(function(t){return t.id===e.emoji.id});t&&(e.emoji=Object.assign({},t)),this.previewEmoji=e.emoji,clearTimeout(this.leaveTimeout)}},e.prototype.handleEmojiLeave=function(e){var t=this;this.showPreview&&this.previewRef&&(this.leaveTimeout=setTimeout(function(){t.previewEmoji=null,t.previewRef.ref.markForCheck()},16))},e.prototype.handleEmojiClick=function(e){var t=this;this.emojiClick.emit(e),this.hideRecent||this.recent||this.frequently.add(e.emoji);var i=this.categoryRefs.toArray()[1];if(i){var n=i.maxMargin;i.emojis=this.frequently.get(n),i.ref.markForCheck(),window.requestAnimationFrame(function(){t.scrollRef&&(i.memoizeSize(),n!==i.maxMargin&&(t.updateCategoriesSize(),t.handleScroll(),g.emojis&&i.updateDisplay("none")))})}},e.prototype.handleSkinChange=function(e){this.skin=e,localStorage.setItem(this.NAMESPACE+".skin",String(e))},e}();y.decorators=[{type:t.Component,args:[{selector:"emoji-mart",template:'<div\n  [style.width.px]="perLine * (emojiSize + 12) + 12 + 2 + measureScrollbar"\n  [ngStyle]="style"\n  class="emoji-mart">\n  <div class="emoji-mart-bar">\n    <emoji-mart-anchors\n      [categories]="categories"\n      (anchorClick)="handleAnchorClick($event)"\n      [color]="color"\n      [selected]="selected"\n    >\n    </emoji-mart-anchors>\n  </div>\n  <emoji-search\n    [i18n]="i18n"\n    (search)="handleSearch($event)"\n    [include]="include"\n    [exclude]="exclude"\n    [custom]="custom"\n    [autoFocus]="autoFocus"\n    [emojisToShowFilter]="emojisToShowFilter"\n  >\n  </emoji-search>\n  <div\n    #scrollRef\n    class="emoji-mart-scroll"\n    (scroll)="handleScroll()"\n  >\n    <div emoji-category\n      *ngFor="let category of categories; let idx = index; trackBy: categoryTrack"\n      #categoryRef\n      [id]="category.id"\n      [name]="category.name"\n      [emojis]="category.emojis"\n      [perLine]="perLine"\n      [native]="native"\n      [hasStickyPosition]="native"\n      [i18n]="i18n"\n      [hideObsolete]="hideObsolete"\n      [custom]="category.id == RECENT_CATEGORY.id ? CUSTOM_CATEGORY.emojis : undefined"\n      [recent]="category.id == RECENT_CATEGORY.id ? recent : undefined"\n      [emojiNative]="native"\n      [emojiSkin]="skin"\n      [emojiSize]="emojiSize"\n      [emojiSet]="set"\n      [emojiSheetSize]="sheetSize"\n      [emojiForceSize]="native"\n      [emojiTooltip]="emojiTooltip"\n      (emojiOver)="handleEmojiOver($event)"\n      (emojiLeave)="handleEmojiLeave($event)"\n      (emojiClick)="handleEmojiClick($event)"\n    >\n    </div>\n</div>\n<div class="emoji-mart-bar" *ngIf="showPreview">\n  <emoji-preview\n    #previewRef\n    [title]="title"\n    [emoji]="previewEmoji"\n    [idleEmoji]="emoji"\n    [emojiNative]="native"\n    [emojiSize]="38"\n    [emojiSkin]="skin"\n    [emojiSet]="set"\n    [emojiSheetSize]="sheetSize"\n    [emojiBackgroundImageFn]="backgroundImageFn"\n    (skinChange)="handleSkinChange($event)"\n  ></emoji-preview>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],y.ctorParameters=function(){return[{type:l}]},y.propDecorators={perLine:[{type:t.Input}],i18n:[{type:t.Input}],style:[{type:t.Input}],title:[{type:t.Input}],emoji:[{type:t.Input}],color:[{type:t.Input}],hideObsolete:[{type:t.Input}],categories:[{type:t.Input}],set:[{type:t.Input}],skin:[{type:t.Input}],"native":[{type:t.Input}],emojiSize:[{type:t.Input}],sheetSize:[{type:t.Input}],emojisToShowFilter:[{type:t.Input}],showPreview:[{type:t.Input}],emojiTooltip:[{type:t.Input}],autoFocus:[{type:t.Input}],custom:[{type:t.Input}],hideRecent:[{type:t.Input}],include:[{type:t.Input}],exclude:[{type:t.Input}],emojiClick:[{type:t.Output}],scrollRef:[{type:t.ViewChild,args:["scrollRef"]}],previewRef:[{type:t.ViewChild,args:["previewRef"]}],categoryRefs:[{type:t.ViewChildren,args:["categoryRef"]}],backgroundImageFn:[{type:t.Input}]};var j=function(){function e(e){this.emojiSearch=e,this.maxResults=75,this.autoFocus=!1,this.include=[],this.exclude=[],this.custom=[],this.search=new t.EventEmitter,this.query=""}return e.prototype.ngAfterViewInit=function(){this.autoFocus&&this.inputRef&&this.inputRef.nativeElement.focus()},e.prototype.handleChange=function(){this.search.emit(this.emojiSearch.search(this.query,this.emojisToShowFilter,this.maxResults,this.include,this.exclude,this.custom))},e}();j.decorators=[{type:t.Component,args:[{selector:"emoji-search",template:'\n  <div class="emoji-mart-search">\n    <input #inputRef type="text"\n      [placeholder]="i18n.search" [autofocus]="autoFocus"\n      [(ngModel)]="query" (ngModelChange)="handleChange()"\n    />\n  </div>\n  ',styles:[],changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],j.ctorParameters=function(){return[{type:u}]},j.propDecorators={maxResults:[{type:t.Input}],autoFocus:[{type:t.Input}],i18n:[{type:t.Input}],include:[{type:t.Input}],exclude:[{type:t.Input}],custom:[{type:t.Input}],emojisToShowFilter:[{type:t.Input}],search:[{type:t.Output}],inputRef:[{type:t.ViewChild,args:["inputRef"]}]};var S=function(){function e(){this.change=new t.EventEmitter,this.opened=!1,this.skinTones=[1,2,3,4,5,6]}return e.prototype.toggleOpen=function(){this.opened=!this.opened},e.prototype.handleClick=function(e){this.opened?(this.opened=!1,e!==this.skin&&this.change.emit(e)):this.opened=!0},e}();S.decorators=[{type:t.Component,args:[{selector:"emoji-skins",template:'\n  <div>\n    <div class="emoji-mart-skin-swatches" [class.emoji-mart-skin-swatches-opened]="opened">\n      <span *ngFor="let skinTone of skinTones"\n        class="emoji-mart-skin-swatch"\n        [class.emoji-mart-skin-swatch-selected]="skinTone === skin"\n        >\n          <span (click)="this.handleClick(skinTone)"\n            class="emoji-mart-skin emoji-mart-skin-tone-{{ skinTone }}"\n          ></span>\n        </span>\n    </div>\n  </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],S.ctorParameters=function(){return[]},S.propDecorators={skin:[{type:t.Input}],change:[{type:t.Output}]};var k=[y,c,h,j,p,S],C=function(){return function(){}}();C.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,o.FormsModule,i.EmojiModule],exports:k,declarations:k,providers:[u,l]}]}],C.ctorParameters=function(){return[]},e.AnchorsComponent=c,e.CategoryComponent=h,e.EmojiFrequentlyService=l,e.EmojiSearch=u,e.PickerComponent=y,e.PickerModule=C,e.PreviewComponent=p,e.SearchComponent=j,e.SkinComponent=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ctrl-ngx-emoji-mart.umd.min.js.map
